{
  "comments": [
    {
      "key": {
        "uuid": "2bef4e8e_3d848d88",
        "filename": "datafile-app-server/pom.xml",
        "patchSetId": 7
      },
      "lineNbr": 126,
      "author": {
        "id": 3763
      },
      "writtenOn": "2019-06-18T08:58:17Z",
      "side": 1,
      "message": "Remove version tag, already defined in top pom.",
      "range": {
        "startLine": 126,
        "startChar": 0,
        "endLine": 126,
        "endChar": 36
      },
      "revId": "24079ee0b87f20cf8c42b88777831ca38d94e5d2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4970e22e_acd1986e",
        "filename": "datafile-app-server/pom.xml",
        "patchSetId": 7
      },
      "lineNbr": 138,
      "author": {
        "id": 3763
      },
      "writtenOn": "2019-06-18T08:58:17Z",
      "side": 1,
      "message": "Remove, not needed in this pom.",
      "range": {
        "startLine": 128,
        "startChar": 0,
        "endLine": 138,
        "endChar": 0
      },
      "revId": "24079ee0b87f20cf8c42b88777831ca38d94e5d2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "85e7e86e_9cc5757e",
        "filename": "datafile-app-server/pom.xml",
        "patchSetId": 7
      },
      "lineNbr": 141,
      "author": {
        "id": 3763
      },
      "writtenOn": "2019-06-18T08:58:17Z",
      "side": 1,
      "message": "Remove version tag, already defined in top pom.",
      "range": {
        "startLine": 141,
        "startChar": 0,
        "endLine": 141,
        "endChar": 42
      },
      "revId": "24079ee0b87f20cf8c42b88777831ca38d94e5d2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e5ddd397_f2649626",
        "filename": "datafile-app-server/pom.xml",
        "patchSetId": 7
      },
      "lineNbr": 148,
      "author": {
        "id": 3763
      },
      "writtenOn": "2019-06-18T08:58:17Z",
      "side": 1,
      "message": "Remove, not needed in this pom.",
      "range": {
        "startLine": 143,
        "startChar": 0,
        "endLine": 148,
        "endChar": 0
      },
      "revId": "24079ee0b87f20cf8c42b88777831ca38d94e5d2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78642df9_02b030fa",
        "filename": "datafile-app-server/pom.xml",
        "patchSetId": 7
      },
      "lineNbr": 151,
      "author": {
        "id": 3763
      },
      "writtenOn": "2019-06-18T08:58:17Z",
      "side": 1,
      "message": "Remove version tag, already defined in top pom.",
      "range": {
        "startLine": 151,
        "startChar": 0,
        "endLine": 151,
        "endChar": 31
      },
      "revId": "24079ee0b87f20cf8c42b88777831ca38d94e5d2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e87453a3_0b986145",
        "filename": "datafile-app-server/pom.xml",
        "patchSetId": 7
      },
      "lineNbr": 156,
      "author": {
        "id": 3763
      },
      "writtenOn": "2019-06-18T08:58:17Z",
      "side": 1,
      "message": "Remove version tag, already defined in top pom.",
      "range": {
        "startLine": 156,
        "startChar": 0,
        "endLine": 156,
        "endChar": 42
      },
      "revId": "24079ee0b87f20cf8c42b88777831ca38d94e5d2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da86ce4f_562eaade",
        "filename": "datafile-app-server/pom.xml",
        "patchSetId": 7
      },
      "lineNbr": 163,
      "author": {
        "id": 3763
      },
      "writtenOn": "2019-06-18T08:58:17Z",
      "side": 1,
      "message": "Remove, not needed in this pom.",
      "range": {
        "startLine": 158,
        "startChar": 0,
        "endLine": 163,
        "endChar": 0
      },
      "revId": "24079ee0b87f20cf8c42b88777831ca38d94e5d2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "536fdad9_aa9d3e06",
        "filename": "datafile-app-server/src/main/java/org/onap/dcaegen2/collectors/datafile/configuration/AppConfig.java",
        "patchSetId": 7
      },
      "lineNbr": 94,
      "author": {
        "id": 2683
      },
      "writtenOn": "2019-06-18T07:59:57Z",
      "side": 1,
      "message": "Then we still need this interval to be rewritten in more straightforward way. We should start with CbsLookup and then use the cbsClient. Something like:\n\n```\ncreateCbsClient(env).flatMapMany(cbsClient -\u003e\n  Flux.interval(...)\n    .flatMap(iteration -\u003e {\n      var appConfig \u003d cbsClient.get(...);\n      var dmaapConfig \u003d cbsClient.get(...);\n      return Flux.zip(this::parseCloudConfig, appConfig, dmaapConfig);\n    })\n\n)\n```",
      "revId": "24079ee0b87f20cf8c42b88777831ca38d94e5d2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6580317f_6d0eb9ef",
        "filename": "datafile-app-server/src/main/java/org/onap/dcaegen2/collectors/datafile/configuration/AppConfig.java",
        "patchSetId": 7
      },
      "lineNbr": 94,
      "author": {
        "id": 5107
      },
      "writtenOn": "2019-06-18T11:22:32Z",
      "side": 1,
      "message": "The refreshconfig actually is doing the refreshment of environment(CONSUL, etc) first and then use that env to create cbsclient to fetch configurations. \n\nMy idea is to keep the logic of refresh environment very 5 minutes, and within very 1 minite, cbsclient.updates is used to keep fetching and updating the configuration from the consul.\n\nIt is just my idea, we can discuss about this more",
      "parentUuid": "536fdad9_aa9d3e06",
      "revId": "24079ee0b87f20cf8c42b88777831ca38d94e5d2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "88d3c0cc_f290414a",
        "filename": "datafile-app-server/src/main/java/org/onap/dcaegen2/collectors/datafile/configuration/AppConfig.java",
        "patchSetId": 7
      },
      "lineNbr": 94,
      "author": {
        "id": 2683
      },
      "writtenOn": "2019-06-24T06:34:15Z",
      "side": 1,
      "message": "Your idea would be OK if we had same dynamic environment changes. But I believe environment won\u0027t change without restarting a k8s pod. So from an application perspective it doesn\u0027t make sense to recreate the CBS client periodically. It should be created once and reused. Or am I missing something?\n\nPlease also note that in ElAlto there won\u0027t be any Consul call to fetch the CBS address, so the lookup would be simply a DNS lookup.",
      "parentUuid": "6580317f_6d0eb9ef",
      "revId": "24079ee0b87f20cf8c42b88777831ca38d94e5d2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3d2a7b9_8e6277cd",
        "filename": "datafile-app-server/src/main/java/org/onap/dcaegen2/collectors/datafile/configuration/AppConfig.java",
        "patchSetId": 7
      },
      "lineNbr": 94,
      "author": {
        "id": 5107
      },
      "writtenOn": "2019-06-24T09:10:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "88d3c0cc_f290414a",
      "revId": "24079ee0b87f20cf8c42b88777831ca38d94e5d2",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a",
      "unresolved": true
    }
  ]
}